(()=>{"use strict";new(function(){function t(t){this.interval=1,this.options={cellsX:100,cellsY:100,cellSize:10,gridColor:"#3730a3",cellColor:"#ccc"},this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d");var i=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this.options.cellsX=Math.floor(i/this.options.cellSize),this.options.cellsY=Math.floor(s/this.options.cellSize),this.update()}return t.prototype.update=function(){var t=this;this.canvas.width=this.options.cellsX*this.options.cellSize,this.canvas.height=this.options.cellsY*this.options.cellSize,this.matrix=new Array(this.options.cellsX);for(var i=0;i<this.matrix.length;i++){this.matrix[i]=new Array(this.options.cellsY);for(var s=0;s<this.matrix[i].length;s++)this.matrix[i][s]=!1}this.randomize(),setInterval((function(){t.step(),t.draw()}),this.interval)},t.prototype.step=function(){for(var t=new Array(this.matrix.length),i=0;i<t.length;i++)t[i]=new Array(this.matrix[i].length);for(i=0;i<this.matrix.length;i++)for(var s=0;s<this.matrix[i].length;s++){var o=this.countNeighbours(i,s);this.matrix[i][s]?(2!=o&&3!=o||(t[i][s]=!0),(o<2||o>3)&&(t[i][s]=!1)):3==o&&(t[i][s]=!0)}this.matrix=t},t.prototype.draw=function(){this.canvas.width=this.canvas.width,this.ctx.strokeStyle=this.options.gridColor,this.ctx.fillStyle=this.options.cellColor;for(var t=.5;t<this.options.cellsX*this.options.cellSize;t+=this.options.cellSize)this.ctx.moveTo(t,0),this.ctx.lineTo(t,this.options.cellsY*this.options.cellSize);for(var i=.5;i<this.options.cellsY*this.options.cellSize;i+=this.options.cellSize)this.ctx.moveTo(0,i),this.ctx.lineTo(this.options.cellsX*this.options.cellSize,i);for(this.ctx.stroke(),t=0;t<this.matrix.length;t++)for(i=0;i<this.matrix[t].length;i++)this.matrix[t][i]&&this.ctx.fillRect(t*this.options.cellSize+1,i*this.options.cellSize+1,this.options.cellSize-1,this.options.cellSize-1)},t.prototype.countNeighbours=function(t,i){for(var s=0,o=t-1;o<=t+1;o++)for(var e=i-1;e<=i+1;e++)o==t&&e==i||o<0||o>=this.matrix.length||e<0||e>=this.matrix[o].length||this.matrix[o][e]&&s++;return s},t.prototype.randomize=function(){for(var t=0;t<this.matrix.length;t++)for(var i=0;i<this.matrix[t].length;i++)this.matrix[t][i]=Math.random()<.3},t}())("gol-canvas")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sdWVyc2VuLy4vc3JjL3NjcmlwdHMvbWFpbi50cyIsIndlYnBhY2s6Ly9sdWVyc2VuLy4vc3JjL3NjcmlwdHMvZ29sLnRzIl0sIm5hbWVzIjpbImNhbnZhc0lkIiwiaW50ZXJ2YWwiLCJvcHRpb25zIiwiY2VsbHNYIiwiY2VsbHNZIiwiY2VsbFNpemUiLCJncmlkQ29sb3IiLCJjZWxsQ29sb3IiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJ2dyIsIk1hdGgiLCJtYXgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ2aCIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiZmxvb3IiLCJ1cGRhdGUiLCJ3aWR0aCIsImhlaWdodCIsIm1hdHJpeCIsIkFycmF5IiwieCIsImxlbmd0aCIsInkiLCJyYW5kb21pemUiLCJzZXRJbnRlcnZhbCIsInN0ZXAiLCJkcmF3IiwiYnVmZmVyIiwibmVpZ2hib3VycyIsImNvdW50TmVpZ2hib3VycyIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZmlsbFJlY3QiLCJjeCIsImN5IiwiY291bnQiLCJyYW5kb20iXSwibWFwcGluZ3MiOiJtQkFJYSxJQ0piLFdBZ0JJLFdBQVlBLEdBZkosS0FBQUMsU0FBbUIsRUFLbkIsS0FBQUMsUUFBVSxDQUNkQyxPQUFRLElBQ1JDLE9BQVEsSUFDUkMsU0FBVSxHQUNWQyxVQUFXLFVBQ1hDLFVBQVcsUUFNWEMsS0FBS0MsT0FBNEJDLFNBQVNDLGVBQWVYLEdBQ3pEUSxLQUFLSSxJQUFNSixLQUFLQyxPQUFPSSxXQUFXLE1BRWxDLElBQU1DLEVBQUtDLEtBQUtDLElBQUlOLFNBQVNPLGdCQUFnQkMsYUFBZSxFQUFHQyxPQUFPQyxZQUFjLEdBQzlFQyxFQUFLTixLQUFLQyxJQUFJTixTQUFTTyxn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QUFJeEIsS0FBS04sUUFBUUcsU0FBVyxFQUM1QkcsS0FBS04sUUFBUUcsU0FBVyxFQUN4QkcsS0FBS04sUUFBUUcsU0FBVyxJQU1wQyxZQUFBa0MsZ0JBQVIsU0FBd0JPLEVBQVlDLEdBR2hDLElBRkEsSUFBSUMsRUFBUSxFQUVIbEIsRUFBSWdCLEVBQUssRUFBR2hCLEdBQUtnQixFQUFLLEVBQUdoQixJQUM5QixJQUFLLElBQUlFLEVBQUllLEVBQUssRUFBR2YsR0FBS2UsRUFBSyxFQUFHZixJQUMxQkYsR0FBS2dCLEdBQU1kLEdBQUtlLEdBRWhCakIsRUFBSSxHQUFLQSxHQUFLdEIsS0FBS29CLE9BQU9HLFFBQVVDLEVBQUksR0FBS0EsR0FBS3hCLEtBQUtvQixPQUFPRSxHQUFHQyxRQUVqRXZCLEtBQUtvQixPQUFPRSxHQUFHRSxJQUNmZ0IsSUFHWixPQUFPQSxHQUdILFlBQUFmLFVBQVIsV0FDSSxJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSXRCLEtBQUtvQixPQUFPRyxPQUFRRCxJQUNwQyxJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSXhCLEtBQUtvQixPQUFPRSxHQUFHQyxPQUFRQyxJQUN2Q3hCLEtBQUtvQixPQUFPRSxHQUFHRSxHQUFLakIsS0FBS2tDLFNBQVcsSUFJcEQsRUFwSUEsR0RJYSxDQUFTLGUiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nb2xcIjtcclxuXHJcbmltcG9ydCBcInRhaWx3aW5kY3NzL3RhaWx3aW5kLmNzc1wiXHJcblxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoXCJnb2wtY2FudmFzXCIpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcclxuICAgIHByaXZhdGUgaW50ZXJ2YWw6IG51bWJlciA9IDE7XHJcblxyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgY2VsbHNYOiAxMDAsXHJcbiAgICAgICAgY2VsbHNZOiAxMDAsXHJcbiAgICAgICAgY2VsbFNpemU6IDEwLFxyXG4gICAgICAgIGdyaWRDb2xvcjogXCIjMzczMGEzXCIsXHJcbiAgICAgICAgY2VsbENvbG9yOiBcIiNjY2NcIlxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIG1hdHJpeDogQXJyYXk8QXJyYXk8Ym9vbGVhbj4+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhc0lkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJZCk7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IHZ3ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IDAsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApXHJcbiAgICAgICAgY29uc3QgdmggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IDAsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKVxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5jZWxsc1ggPSBNYXRoLmZsb29yKHZ3IC8gdGhpcy5vcHRpb25zLmNlbGxTaXplKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuY2VsbHNZID0gTWF0aC5mbG9vcih2aCAvIHRoaXMub3B0aW9ucy5jZWxsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMub3B0aW9ucy5jZWxsc1ggKiB0aGlzLm9wdGlvbnMuY2VsbFNpemU7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmNlbGxzWSAqIHRoaXMub3B0aW9ucy5jZWxsU2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXRyaXggPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLmNlbGxzWCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLm1hdHJpeC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFt4XSA9IG5ldyBBcnJheSh0aGlzLm9wdGlvbnMuY2VsbHNZKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm1hdHJpeFt4XS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yYW5kb21pemUoKTtcclxuXHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgIH0sIHRoaXMuaW50ZXJ2YWwpO1xyXG5cclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RlcCgpIHtcclxuICAgICAgICBsZXQgYnVmZmVyID0gbmV3IEFycmF5KHRoaXMubWF0cml4Lmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBidWZmZXIubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgYnVmZmVyW3hdID0gbmV3IEFycmF5KHRoaXMubWF0cml4W3hdLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjYWxjdWxhdGUgb25lIHN0ZXBcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubWF0cml4Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5tYXRyaXhbeF0ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvdW50IG5laWdoYm91cnNcclxuICAgICAgICAgICAgICAgIHZhciBuZWlnaGJvdXJzID0gdGhpcy5jb3VudE5laWdoYm91cnMoeCwgeSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdXNlIHJ1bGVzXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRyaXhbeF1beV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmVpZ2hib3VycyA9PSAyIHx8IG5laWdoYm91cnMgPT0gMylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyW3hdW3ldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmVpZ2hib3VycyA8IDIgfHwgbmVpZ2hib3VycyA+IDMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclt4XVt5XSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmVpZ2hib3VycyA9PSAzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbeF1beV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmbGlwIGJ1ZmZlcnNcclxuICAgICAgICB0aGlzLm1hdHJpeCA9IGJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXcoKSB7XHJcbiAgICAgICAgLy8gY2xlYXIgY2FudmFzIGFuZCBzZXQgY29sb3JzXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMub3B0aW9ucy5ncmlkQ29sb3I7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5vcHRpb25zLmNlbGxDb2xvcjtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBncmlkXHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDAuNTsgeCA8IHRoaXMub3B0aW9ucy5jZWxsc1ggKiB0aGlzLm9wdGlvbnMuY2VsbFNpemU7IHggKz0gdGhpcy5vcHRpb25zLmNlbGxTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh4LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKHgsIHRoaXMub3B0aW9ucy5jZWxsc1kgKiB0aGlzLm9wdGlvbnMuY2VsbFNpemUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDAuNTsgeSA8IHRoaXMub3B0aW9ucy5jZWxsc1kgKiB0aGlzLm9wdGlvbnMuY2VsbFNpemU7IHkgKz0gdGhpcy5vcHRpb25zLmNlbGxTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbygwLCB5KTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKHRoaXMub3B0aW9ucy5jZWxsc1ggKiB0aGlzLm9wdGlvbnMuY2VsbFNpemUsIHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgbWF0cml4XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLm1hdHJpeC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubWF0cml4W3hdLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRyaXhbeF1beV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh4ICogdGhpcy5vcHRpb25zLmNlbGxTaXplICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSAqIHRoaXMub3B0aW9ucy5jZWxsU2l6ZSArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jZWxsU2l6ZSAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jZWxsU2l6ZSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY291bnROZWlnaGJvdXJzKGN4OiBudW1iZXIsIGN5OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB4ID0gY3ggLSAxOyB4IDw9IGN4ICsgMTsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSBjeSAtIDE7IHkgPD0gY3kgKyAxOyB5KyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09IGN4ICYmIHkgPT0gY3kpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLm1hdHJpeC5sZW5ndGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLm1hdHJpeFt4XS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRyaXhbeF1beV0pXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYW5kb21pemUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLm1hdHJpeC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubWF0cml4W3hdLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XSA9IE1hdGgucmFuZG9tKCkgPCAwLjM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==